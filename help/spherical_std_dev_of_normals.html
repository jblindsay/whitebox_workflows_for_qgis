<p>This tool can be used to calculate the spherical standard deviation of the distribution of surface normals for an input digital elevation model (DEM; <code>dem</code>). This is a measure of the angular dispersion of the surface normal vectors within a local neighbourhood of a specified size (<code>filter</code>). <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#spherical_std_dev_of_normals">spherical_std_dev_of_normals</a> is therefore a measure of surface shape complexity, texture, and roughness. The <a href="https://en.wikipedia.org/wiki/Directional_statistics#Measures_of_location_and_spread"> spherical standard deviation</a> (<em>s</em>) is defined as:</p> <blockquote> <p><em>s</em> = &radic;[-2ln(<em>R</em> / <em>N</em>)] &times; 180 / &pi;</p> </blockquote> <p>where <em>R</em> is the resultant vector length and <em>N</em> is the number of unit normal vectors within the local neighbourhood. <em>s</em> is measured in degrees and is zero for simple planes and increases infinitely with increasing surface complexity or roughness. Note that this formulation of the spherical standard deviation assumes an underlying wrapped normal distribution.</p> <p>The local neighbourhood size (<code>filter</code>) must be any odd integer equal to or greater than three. Grohmann et al. (2010) found that vector dispersion, a related measure of angular dispersion, increases monotonically with scale. This is the result of the angular dispersion measure integrating (accumulating) all of the surface variance of smaller scales up to the test scale. A more interesting scale relation can therefore be estimated by isolating the amount of surface complexity associated with specific scale ranges. That is, at large spatial scales, <em>s</em> should reflect the texture of large-scale landforms rather than the accumulated complexity at all smaller scales, including microtopographic roughness. As such, <strong><em>this tool normalizes the surface complexity of scales that are smaller than the filter size by applying Gaussian blur</em></strong> (with a standard deviation of one-third the filter size) to the DEM prior to calculating <em>R</em>. In this way, the resulting distribution is able to isolate and highlight the surface shape complexity associated with landscape features of a similar scale to that of the filter size.</p> <p>This tool makes extensive use of <a href="https://en.wikipedia.org/wiki/Summed-area_table">integral images</a> (i.e. summed-area tables) and parallel processing to ensure computational efficiency. It may, however, require substantial memory resources when applied to larger DEMs.</p> <h2>References</h2> <p>Grohmann, C. H., Smith, M. J., &amp; Riccomini, C. (2010). Multiscale analysis of topographic surface roughness in the Midland Valley, Scotland. <em>IEEE Transactions on Geoscience and Remote Sensing</em>, 49(4), 1200-1213.</p> <p>Hodgson, M. E., and Gaile, G. L. (1999). A cartographic modeling approach for surface orientation-related applications. <em>Photogrammetric Engineering and Remote Sensing</em>, 65(1), 85-95.</p> <p>Lindsay J. B., Newman<em> D. R., Francioni, A. 2019. Scale-optimized surface roughness for topographic analysis. </em>Geosciences*,  9(7) 322. DOI: 10.3390/geosciences9070322.</p> <h2>See Also</h2> <p><a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#circular_variance_of_aspect">circular_variance_of_aspect</a>, <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#multiscale_roughness">multiscale_roughness</a>, <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#edge_density">edge_density</a>, <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#surface_area_ratio">surface_area_ratio</a>, <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#ruggedness_index">ruggedness_index</a></p> <h2>Function Signature</h2> <p><code>def spherical_std_dev_of_normals(self, dem: Raster, filter_size: int = 11) -&gt; Raster: ... </code></p>
<h2>Project Links</h2>
<div align="left">
    <a href="https://www.whiteboxgeo.com/whitebox-workflows-for-python/">WbW Homepage</a>
    <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/preface.html">User Manual</a>
    <a href="https://www.whiteboxgeo.com/wbw-purchase/">Support WbW</a>
</div>        
