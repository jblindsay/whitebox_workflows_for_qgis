<h2>License Information</h2> <p>Use of this function requires a license for Whitebox Workflows for Python Professional (WbW-Pro). Please visit <a href="https://www.whiteboxgeo.com/">www.whiteboxgeo.com</a> to purchase a license.</p> <h2>Description</h2> <p>This tool can be used to generalize a raster containing class features (<code>input</code>) by reassigning the identifier values of small features (<code>min_size</code>) to those of neighbouring features. Therefore, this tool performs a very similar operation to the <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#generalize_classified_raster">generalize_classified_raster</a> tool. However, while the <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#generalize_classified_raster">generalize_classified_raster</a> tool re-labels small features based on the geometric properties of neighbouring features (e.g. neighbour with the longest shared border, largest neighbour, or nearest neighbour), the <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#generalize_with_similarity">generalize_with_similarity</a> tool reassigns feature labels based on similarity with neighbouring features. Similarity is determined using a series of input similarity criteria rasters (<code>similarity</code>), which may be factors used in the creation of the input class raster. For example, the similarlity rasters may be bands of multi-spectral imagery, if the input raster is a classified land-cover map, or DEM-derived land surface parameters, if the input raster is a landform class map.</p> <p>The tool works by identifying each contiguous group of pixels (features) in the input class raster (<code>input</code>), i.e. a clumping operation. The mean value is then calculated for each feature and each similarity input, which defines a multi-dimensional 'similarity centre point' associated with each feature. It should be noted that the similarity raster data are standardized prior to calculating these centre point values. Lastly, the tool then reassigns the input label values of all features smaller than the user-specified minimum feature size (<code>min_size</code>) to that of the neighbouring feature with the shortest distance between similarity centre points.</p> <p>For small features that are entirely enclosed by a single larger feature, this process will result in the same generalization solution presented by any of the geometric-based methods of the <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#generalize_classified_raster">generalize_classified_raster</a> tool. However, for small features that have more than one neighbour, this tool may provide a superior generalization solution than those based solely on geometric information.</p> <p><img alt="" src="./img/GeneralizeWithSimilarity1.png" /></p> <p>For a video tutorial on how to use the <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#generalize_with_similarity">generalize_with_similarity</a> tool, see <a href="https://www.youtube.com/watch?v=D2ckQ-hfJyY&amp;t=5s">this YouTube video</a>.</p> <h2>See Also</h2> <p><a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#generalize_classified_raster">generalize_classified_raster</a>, <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#majority_filter">majority_filter</a>, <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#image_segmentation">image_segmentation</a></p> <h2>Function Signature</h2> <p><code>def generalize_with_similarity(self, raster: Raster, similarity_rasters: List[Raster], area_threshold: int = 5) -&gt; Raster: ... </code></p>
<h2>Project Links</h2>
<div align="left">
    <a href="https://www.whiteboxgeo.com/whitebox-workflows-for-python/">WbW Homepage</a>
    <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/preface.html">User Manual</a>
    <a href="https://www.whiteboxgeo.com/wbw-purchase/">Support WbW</a>
</div>        
