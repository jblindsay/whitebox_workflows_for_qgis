<p>This tool can be used to merge a vector's attribute table with data contained within a comma separated values (CSV) text file. CSV files stores tabular data (numbers and text) in plain-text form such that each row is a record and each column a field. Fields are typically separated by commas although the tool will also support seimi-colon, tab, and space delimited files. The user must specify the name of the vector (and associated attribute file) as well as the <em>primary key</em> within the table. The <em>primary key</em> (<code>pkey</code> flag) is the field within the table that is being appended to that serves as the unique identifier. Additionally, the user must specify the name of a CSV text file with either a <em>.csv or </em>.txt extension. The file must possess a header row, i.e. the first row must contain information about the names of the various fields. The <em>foreign key</em> (<code>fkey</code> flag), that is the identifying field within the CSV file that corresponds with the data contained within the <em>primary key</em> in the table, must also be specified. Both the primary and foreign keys should either be strings (text) or integer values. <em>Fields containing decimal values are not good candidates for keys.</em> Lastly, the user may optionally specify the name of a field within the CSV file to import in the merge operation (<code>import_field</code> flag). If this flag is not specified, all of the fields within the CSV, with the exception of the foreign key, will be appended to the attribute table.</p> <p>Merging works for one-to-one and many-to-one database relations. A <em>one-to-one</em> relations exists when each record in the attribute table corresponds to one record in the second table and each primary key is unique. Since each record in the attribute table is associated with a geospatial feature in the vector, an example of a one-to-one relation may be where the second file contains AREA and PERIMETER fields for each polygon feature in the vector. This is the most basic type of relation. A many-to-one relation would exist when each record in the first attribute table corresponds to one record in the second file and the primary key is NOT unique. Consider as an example a vector and attribute table associated with a world map of countries. Each country has one or more more polygon features in the shapefile, e.g. Canada has its mainland and many hundred large islands. You may want to append a table containing data about the population and area of each country. In this case, the COUNTRY columns in the attribute table and the second file serve as the primary and foreign keys respectively. While there may be many duplicate primary keys (all of those Canadian polygons) each will correspond to only one foreign key containing the population and area data. This is a <em>many-to-one</em> relation. The <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#join_tables">join_tables</a> tool does not support one-to-many nor many-to-many relations.</p> <h2>See Also</h2> <p><a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#join_tables">join_tables</a>, <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#reinitialize_attribute_table">reinitialize_attribute_table</a>, <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#export_table_to_csv">export_table_to_csv</a></p> <h2>Function Signature</h2> <p><code>def merge_table_with_csv(self, primary_vector: Vector, primary_key_field: str, foreign_csv_filename: str, foreign_key_field: str, import_field: str = "") -&gt; None: ... </code></p>
<h2>Project Links</h2>
<div align="left">
    <a href="https://www.whiteboxgeo.com/whitebox-workflows-for-python/">WbW Homepage</a>
    <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/preface.html">User Manual</a>
    <a href="https://www.whiteboxgeo.com/wbw-purchase/">Support WbW</a>
</div>        
