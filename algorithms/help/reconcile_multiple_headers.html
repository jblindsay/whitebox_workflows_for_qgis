<h2>License Information</h2> <p>Use of this function requires a license for Whitebox Workflows for Python Professional (WbW-Pro). Please visit <a href="https://www.whiteboxgeo.com/">www.whiteboxgeo.com</a> to purchase a license.</p> <h2>Description</h2> <p>This tool can be used to adjust the crop yield values for data sets collected with multiple headers or combines. When this situation occurs, the spatial pattern of in-field yield can be dominated by the impact of any miscalibration of the equipment among the individual headers. For example, notice how the areas collected by certain equipment (specified by the various random colours) in the leftmost panel (A) of the image below correspond with anomlously low or high yield values in the original yield map (middle panel, B). The goal of this tool is to calculate adjustment values to offset all of the yield data associated with each region in order to minimize the relative disparity among the various regions (rightmost panel, C).</p> <p><img alt="" src="./img/ReconcileMultipleHeaders.png" /></p> <p>The data collected by a single header defines a region, which is specified by the <code>region</code> field in the attribute table of the input vector file (<code>input</code>). The algorithm works by first locking the data associated the most extensive region. All non-locked points are visited and neighbouring points within a specified radius (<code>radius</code>) are retrieved. The difference between the average of yield values (<code>yield_field</code>) within the same region as the non-locked point and the average of locked-point yield values is calculated. After visiting all non-locked points, the overall average difference value is calculated for each non-locked region that shares an edge with the locked region. This overall average difference value is then used to offset all of the yield values contained within each neighbouring region. Each adjusted region is then locked and this whole process is iterated until eventually every region has had adjusted and locked. The adjusted yield values are then saved in the output file's (<code>output</code>) attribute table as a new field named <code>ADJ_YIELD</code>. The tool will also output a report that shows the offsets applied to each region to calculate the adjusted yield values.</p> <p><img alt="" src="./img/ReconcileMultipleHeaders2.png" /></p> <p>The user may optionally specify minimum and maximum allowable yield values (<code>min_yield</code> and <code>max_yield</code>). Any points with yield values outside these bounds will not be included in the point neighbourhood analysis for calculating region adjustments and will also not be included in the output. The default values for this minimum and maximum yield values are the smallest non-zero value and positive infinity respectively. Additionally, the user may optionally specify a mean overall yield tonnage (<code>mean_tonnage</code>) value. If specified, the output yield values will have one final adjustment to ensure that the overall mean yield value equals this parameter, which should also be between the minimum and maximum values, if specified. This parameter can be set by dividing the actual measured tonnage taken off the field by the field area.</p> <p>This tool can be used as a pre-processing step prior to applying the <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#yield_filter">yield_filter</a> tool for fields collected with multiple headers. Note that some experimentation with the radius size may be necessary to achieve optimal results and that this parameter should not be less than the spacing between passes, but may be substantially larger. Also, difficulties may be encountered when regions are composed of multiple separated areas that are joined by a path along the edge of the field. This is particularly problemmatic when there exists a strong spatial trend, in the form of a yield graidient, within the field. In such cases, it may be necessary to remove edge points from the data set using the <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#remove_field_edge_points">remove_field_edge_points</a> tool.</p> <h2>See Also</h2> <p><a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#yield_filter">yield_filter</a>, <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#remove_field_edge_points">remove_field_edge_points</a>, <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#yield_map">yield_map</a>, <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#recreate_pass_lines">recreate_pass_lines</a></p>
<h2>Project Links</h2>
<div align="left">
    <a href="https://www.whiteboxgeo.com/whitebox-workflows-for-python/">WbW Homepage</a>
    <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/preface.html">User Manual</a>
    <a href="https://www.whiteboxgeo.com/wbw-purchase/">Support WbW</a>
</div>        
