<p>This tool can be used to identify the main channel in a stream network. The user must input a D8 pointer (flow direction) raster (<a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#d8_pointer">d8_pointer</a>), and a streams raster (<code>streams_raster</code>). The pointer raster is used to traverse the stream network and should only be created using the <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#d8_pointer">d8_pointer</a> tool. By default, the pointer raster is assumed to use the clockwise indexing method used by WhiteboxTools:</p> <table> <th><td>.</td><td>.</td><td>.</td></th> <tr><td>64</td><td>128</td><td>1</td></tr> <tr><td>32</td><td>0</td><td>2</td></tr> <tr><td>16</td><td>8</td><td>4</td></tr>  </table> <p>If the pointer file contains ESRI flow direction values instead, you must set <code>esri_pointer=True</code> parameter must be specified.</p> <p>The streams raster should have been created using one of the DEM-based stream mapping methods, i.e. contributing area thresholding. Stream grid cells are designated in the streams image as all positive, non-zero values. All non-stream cells will be assigned the NoData value in the output image, unless the user sets <code>zero_background=True</code>.</p> <p>The algorithm operates by traversing each stream and identifying the longest stream-path draining to each outlet. When a confluence is encountered, the traverse follows the branch with the larger distance-to-head.</p> <h2>See Also</h2> <p><a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#d8_pointer">d8_pointer</a></p> <h2>Function Signature</h2> <p><code>def find_main_stem(self, d8_pointer: Raster, streams_raster: Raster, esri_pointer: bool = False, zero_background: bool = False) -&gt; Raster: ... </code></p>
<h2>Project Links</h2>
<div align="left">
    <a href="https://www.whiteboxgeo.com/whitebox-workflows-for-python/">WbW Homepage</a>
    <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/preface.html">User Manual</a>
    <a href="https://www.whiteboxgeo.com/wbw-purchase/">Support WbW</a>
</div>        
