<p>This tool performs a stochastic analysis of depressions within a DEM, calculating the probability of each cell belonging to a depression. This land-surface parameter (p<sub>dep</sub>) has been widely applied in wetland and bottom-land mapping applications.</p> <p>This tool differs from the original Whitebox GAT tool in a few significant ways:</p> <ol> <li> <p>The Whitebox GAT tool took an error histogram as an input. In practice people found    it difficult to create this input. Usually they just generated a normal distribution    in a spreadsheet using information about the DEM root-mean-square-error (RMSE). As    such, this tool takes a RMSE input and generates the histogram internally. This is    more convienent for most applications but loses the flexibility of specifying the    error distribution more completely.</p> </li> <li> <p>The Whitebox GAT tool generated the error fields using the turning bands method.    This tool generates a random Gaussian error field with no spatial autocorrelation    and then applies local spatial averaging using a Gaussian filter (the size of    which depends of the error autocorrelation length input) to increase the level of    autocorrelation. We use the Fast Almost Gaussian Filter of Peter Kovesi (2010),    which uses five repeat passes of a mean filter, based on an integral image. This    filter method is highly efficient. This results in a significant performance    increase compared with the original tool.</p> </li> <li> <p>Parts of the tool's workflow utilize parallel processing. However, the depression    filling operation, which is the most time-consuming part of the workflow, is    not parallelized.</p> </li> </ol> <p>In addition to the input DEM (<code>dem</code>) and output p<sub>dep</sub> file name (<code>output</code>), the user must specify the nature of the error model, including the root-mean-square error (<code>rmse</code>) and the error field correlation length (<code>range</code>, in map units). These parameters determine the statistical frequency distribution and spatial characteristics of the modeled error fields added to the DEM in each iteration of the simulation. The user must also specify the number of iterations (<code>iterations</code>). A larger number of iterations will produce a smoother p<sub>dep</sub> raster.</p> <p>This tool creates several temporary rasters in memory and, as a result, is very memory hungry. This will necessarily limit the size of DEMs that can be processed on more memory-constrained systems. As a rough guide for usage, <strong>the computer system will need 6-10 times more memory than the file size of the DEM</strong>. If your computer possesses insufficient memory, you may consider splitting the input DEM apart into smaller tiles.</p> <p><img alt="" src="./img/StochasticDepressionAnalysis_fig1.png" /></p> <p>For a video demonstrating the application of the <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#stochastic_depression_analysis">stochastic_depression_analysis</a> tool, see  <a href="https://www.youtube.com/watch?v=pg8puYYbSzU">this YouTube video</a>.</p> <h2>Reference</h2> <p>Lindsay, J. B., &amp; Creed, I. F. (2005). Sensitivity of digital landscapes to artifact depressions in remotely-sensed DEMs. Photogrammetric Engineering &amp; Remote Sensing, 71(9), 1029-1036.</p> <h2>See Also</h2> <p><a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#impoundment_size_index">impoundment_size_index</a>, <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#fast_almost_gaussian_filter">fast_almost_gaussian_filter</a></p> <h2>Function Signature</h2> <p><code>def stochastic_depression_analysis(self, dem: Raster, rmse: float, range: float, iterations: int = 100) -&gt; Raster: ... </code></p>
<h2>Project Links</h2>
<div align="left">
    <a href="https://www.whiteboxgeo.com/whitebox-workflows-for-python/">WbW Homepage</a>
    <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/preface.html">User Manual</a>
    <a href="https://www.whiteboxgeo.com/wbw-purchase/">Support WbW</a>
</div>        
