<h2>License Information</h2> <p>Use of this function requires a license for Whitebox Workflows for Python Professional (WbW-Pro). Please visit <a href="https://www.whiteboxgeo.com/">www.whiteboxgeo.com</a> to purchase a license.</p> <h2>Description</h2> <p>This tool can be used to generalize a raster containing class or object features. Such rasters are usually derived from some classification procedure (e.g. image classification and landform classification), or as the output of a segmentation procedure (<a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#image_segmentation">image_segmentation</a>). Rasters that are created in this way often contain many very small features that make their interpretation, or vectorization, challenging. Therefore, it is common for practitioners to remove the smaller features. Many different approaches have been used for this task in the past. For example, it is common to remove small features using a filtering based approach (<a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#majority_filter">majority_filter</a>). While this can be an effective strategy, it does have the disadvantage of modifying all of the boundaries in the class raster, including those that define larger features. In many applications, this can be a serious issue of concern.</p> <p>The <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#generalize_classified_raster">generalize_classified_raster</a> tool offers an alternative method for simplifying class rasters. The process begins by identifying each contiguous group of cells in the input (i.e. a clumping operation) and then defines the subset of features that are smaller than the user-specified minimum feature size (<code>min_size</code>), in grid cells. This set of small features is then dealt with using one of three methods (<code>method</code>). In the first method (<em>longest</em>), a small feature may be reassigned the class value of the neighbouring feature with the longest shared border. The sum of the neighbouring feature size and the small feature size must be larger than the specified size threshold, and the tool will iterate through this process of reassigning feature values to neighbouring values until each small feature has been resolved.</p> <p>The second method, <em>largest</em>, operates in much the same way as the first, except that objects are reassigned the value of the largest neighbour. Again, this process of reassigning small feature values iterates until every small feature has been reassigned to a large neighbouring feature.</p> <p>The third and last method (<em>nearest</em>) takes a different approach to resolving the reassignment of small features. Using the <em>nearest</em> generalization approach, each grid cell contained within a small feature is reassigned the value of the nearest large neighbouring feature. When there are two or more neighbouring features that are equally distanced to a small feature cell, the cell will be reassigned to the largest neighbour. Perhaps the most significant disadvantage of this approach is that it creates a new artificial boundary in the output image that is not contained within the input class raster. That is, with the previous two methods, boundaries associated with smaller features in the input images are 'erased' in the output map, but every boundary in the output raster exactly matches boundaries within the input raster (i.e. the output boundaries are a subset of the input feature boundaries). However, with the <em>nearest</em> method, artificial boundaries, determined by the divide between nearest neighbours, are introduced to the output raster and these new feature boundaries do not have any basis in the original classification/segmentation process. Thus caution should be exercised when using this approach, especially when larger minimum size thresholds are used. The <em>longest</em> method is the recommended approach to class feature generalization.</p> <p><img alt="" src="./img/GeneralizeClassifiedRaster1.png" /></p> <p><img alt="" src="./img/GeneralizeClassifiedRaster2.png" /></p> <p>For a video tutorial on how to use the <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#generalize_classified_raster">generalize_classified_raster</a> tool, see <a href="https://www.youtube.com/watch?v=y93OpaiRbuU&amp;t=14s">this YouTube video</a>.</p> <h2>See Also</h2> <p><a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#generalize_with_similarity">generalize_with_similarity</a>, <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#majority_filter">majority_filter</a>, <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/tool_help.html#image_segmentation">image_segmentation</a></p> <h2>Function Signature</h2> <p><code>def generalize_classified_raster(self, raster: Raster, area_threshold: int = 5, method: str = "longest") -&gt; Raster: ... </code></p>
<h2>Project Links</h2>
<div align="left">
    <a href="https://www.whiteboxgeo.com/whitebox-workflows-for-python/">WbW Homepage</a>
    <a href="https://www.whiteboxgeo.com/manual/wbw-user-manual/book/preface.html">User Manual</a>
    <a href="https://www.whiteboxgeo.com/wbw-purchase/">Support WbW</a>
</div>        
